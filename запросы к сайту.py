# -*- coding: utf-8 -*-
"""Untitled11.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/10uYJkZ_IZ-ll8LrFbwTVn1aGXm71PkNr
"""

import requests
import json

def get_posts():
    try:
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º GET-–∑–∞–ø—Ä–æ—Å –∫ API
        response = requests.get('https://jsonplaceholder.typicode.com/posts')

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
        response.raise_for_status()

        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON-–æ—Ç–≤–µ—Ç –≤ Python-–æ–±—ä–µ–∫—Ç
        posts = response.json()

        # –í—ã–≤–æ–¥–∏–º –ø–µ—Ä–≤—ã–µ 5 –ø–æ—Å—Ç–æ–≤
        print("=== –ü–µ—Ä–≤—ã–µ 5 –ø–æ—Å—Ç–æ–≤ ===")
        for i, post in enumerate(posts[:5], 1):
            print(f"\n–ü–æ—Å—Ç #{i}")
            print(f"–ó–∞–≥–æ–ª–æ–≤–æ–∫: {post.get('title', '–ù–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞')}")
            print(f"–¢–µ–∫—Å—Ç: {post.get('body', '–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞')}")
            print("-" * 50)

        return posts[:5]

    except requests.exceptions.RequestException as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ: {e}")
        return None
    except json.JSONDecodeError as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ JSON: {e}")
        return None

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –±–æ–ª–µ–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
def get_posts_formatted():
    try:
        response = requests.get('https://jsonplaceholder.typicode.com/posts')
        response.raise_for_status()
        posts = response.json()

        print("=" * 60)
        print("–ü–ï–†–í–´–ï 5 –ü–û–°–¢–û–í –° JSONPLACEHOLDER")
        print("=" * 60)

        for i, post in enumerate(posts[:5], 1):
            print(f"\n„Äê–ü–û–°–¢ {i}„Äë")
            print(f"üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫: {post.get('title', '').title()}")
            print(f"üìù –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:\n{post.get('body', '')}")
            print("‚îÄ" * 60)

        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        print(f"\n‚úÖ –í—Å–µ–≥–æ –ø–æ—Å—Ç–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ: {len(posts)}")
        print(f"üìä –í—ã–≤–µ–¥–µ–Ω–æ –ø–æ—Å—Ç–æ–≤: 5")

        return posts[:5]

    except Exception as e:
        print(f"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {e}")
        return None

# –§—É–Ω–∫—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª
def get_posts_and_save():
    try:
        response = requests.get('https://jsonplaceholder.typicode.com/posts')
        response.raise_for_status()
        posts = response.json()

        first_five = posts[:5]

        # –í—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å
        print("\n" + "="*60)
        print("–ü–µ—Ä–≤—ã–µ 5 –ø–æ—Å—Ç–æ–≤:")
        print("="*60)

        for i, post in enumerate(first_five, 1):
            print(f"\n{i}. {post['title'][:50]}...")
            print(f"   {post['body'][:80]}...")

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
        with open('first_5_posts.json', 'w', encoding='utf-8') as f:
            json.dump(first_five, f, indent=2, ensure_ascii=False)

        print(f"\n‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª: first_5_posts.json")
        return first_five

    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        return None

if __name__ == "__main__":
    # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±—É—é –∏–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:

    # –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è
    # get_posts()

    # –í–µ—Ä—Å–∏—è —Å –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    get_posts_formatted()

    # –í–µ—Ä—Å–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª
    # get_posts_and_save()