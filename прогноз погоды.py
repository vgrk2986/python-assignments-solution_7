# -*- coding: utf-8 -*-
"""Untitled11.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/10uYJkZ_IZ-ll8LrFbwTVn1aGXm71PkNr
"""

import requests

def get_weather_simple(city):
    """
    –ó–∞–ø—Ä–æ—Å –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ wttr.in
    """
    try:
        # –§–æ—Ä–º–∏—Ä—É–µ–º URL
        url = f"https://wttr.in/{city}"
        params = {
            'format': 'j1',  # JSON —Ñ–æ—Ä–º–∞—Ç
            'lang': 'ru'     # –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
        }

        print(f"üå§ –ó–∞–ø—Ä–∞—à–∏–≤–∞—é –ø–æ–≥–æ–¥—É –¥–ª—è: {city}")
        print(f"üîó URL: {url}")

        response = requests.get(url, params=params, timeout=10)

        if response.status_code == 200:
            data = response.json()

            # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            current = data['current_condition'][0]

            print("\n" + "="*40)
            print(f"–ü–û–ì–û–î–ê –í {city.upper()}")
            print("="*40)

            print(f"\nüå° –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {current['temp_C']}¬∞C")
            print(f"ü§î –û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫: {current['FeelsLikeC']}¬∞C")
            print(f"‚òÅÔ∏è –ü–æ–≥–æ–¥–∞: {current['weatherDesc'][0]['value']}")
            print(f"üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å: {current['humidity']}%")
            print(f"üí® –í–µ—Ç–µ—Ä: {current['windspeedKmph']} –∫–º/—á")
            print(f"üß≠ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: {current['winddir16Point']}")
            print(f"üìä –î–∞–≤–ª–µ–Ω–∏–µ: {current['pressure']} –º–±–∞—Ä")
            print(f"üëÅ –í–∏–¥–∏–º–æ—Å—Ç—å: {current['visibility']} –∫–º")

            # –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
            print(f"\nüìÖ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:")
            today = data['weather'][0]
            print(f"   –ú–∞–∫—Å: {today['maxtempC']}¬∞C, –ú–∏–Ω: {today['mintempC']}¬∞C")
            print(f"   –í–æ—Å—Ö–æ–¥: {today['astronomy'][0]['sunrise']}")
            print(f"   –ó–∞–∫–∞—Ç: {today['astronomy'][0]['sunset']}")

            print("="*40)
            return True

        elif response.status_code == 404:
            print(f"‚ùå –ì–æ—Ä–æ–¥ '{city}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
            print("üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:")
            print("   ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã")
            print("   ‚Ä¢ –£—Ç–æ—á–Ω–∏—Ç—å —Å—Ç—Ä–∞–Ω—É: 'London' –∏–ª–∏ '–ú–æ—Å–∫–≤–∞'")
            return False
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: {response.status_code}")
            return False

    except requests.exceptions.ConnectionError:
        print("‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É")
        return False
    except requests.exceptions.Timeout:
        print("‚ùå –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞")
        return False
    except Exception as e:
        print(f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
        return False

def main():
    print("="*50)
    print("üå§ –ë–ï–°–ü–õ–ê–¢–ù–´–ô –ü–†–û–ì–ù–û–ó –ü–û–ì–û–î–´")
    print("="*50)
    print("–ò—Å–ø–æ–ª—å–∑—É–µ—Ç wttr.in API")
    print("–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á–∞")
    print("="*50)

    # –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ä–æ–¥–æ–≤
    print("\nüí° –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ä–æ–¥–æ–≤:")
    print("   Moscow, London, Paris, Berlin, Tokyo")
    print("   –ù—å—é-–ô–æ—Ä–∫, –ü–µ–∫–∏–Ω, –î—É–±–∞–π, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥")

    while True:
        print("\n" + "-"*50)
        city = input("\n–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ (–∏–ª–∏ '–≤—ã—Ö–æ–¥'): ").strip()

        if city.lower() in ['–≤—ã—Ö–æ–¥', 'exit', 'quit', 'q', '0']:
            print("\nüëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
            break

        if not city:
            print("‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞")
            continue

        get_weather_simple(city)

if __name__ == "__main__":
    main()